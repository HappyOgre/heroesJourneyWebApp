<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="D:/GitHub/heroesJourneyWebApp/backend/test.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="7490"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><current_table name="4,5:mainstats"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="character" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/><column index="2" value="55"/><column index="3" value="78"/><column index="4" value="127"/><column index="5" value="60"/><column index="6" value="59"/><column index="7" value="73"/><column index="8" value="83"/><column index="9" value="73"/><column index="10" value="40"/><column index="11" value="68"/><column index="12" value="70"/><column index="13" value="81"/><column index="14" value="79"/><column index="15" value="85"/><column index="16" value="263"/><column index="17" value="163"/><column index="18" value="70"/><column index="19" value="78"/><column index="20" value="63"/><column index="21" value="40"/><column index="22" value="69"/><column index="23" value="123"/><column index="24" value="67"/><column index="25" value="86"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="classes" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="85"/><column index="2" value="67"/><column index="3" value="86"/><column index="4" value="165"/><column index="5" value="40"/><column index="6" value="40"/><column index="7" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="items" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="144"/><column index="2" value="70"/><column index="3" value="55"/><column index="4" value="51"/><column index="5" value="55"/><column index="6" value="51"/><column index="7" value="40"/><column index="8" value="40"/><column index="9" value="300"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="levelBonus" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="85"/><column index="2" value="300"/><column index="3" value="300"/><column index="4" value="300"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="movesets" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="40"/><column index="2" value="43"/><column index="3" value="104"/><column index="4" value="43"/><column index="5" value="178"/><column index="6" value="55"/><column index="7" value="300"/><column index="8" value="40"/><column index="9" value="48"/><column index="10" value="141"/><column index="11" value="58"/><column index="12" value="141"/><column index="13" value="51"/><column index="14" value="77"/><column index="15" value="47"/><column index="16" value="40"/><column index="17" value="60"/><column index="18" value="77"/><column index="19" value="51"/><column index="20" value="51"/><column index="21" value="51"/><column index="22" value="51"/><column index="23" value="51"/><column index="24" value="51"/><column index="25" value="51"/><column index="26" value="51"/><column index="27" value="51"/><column index="28" value="51"/><column index="29" value="51"/><column index="30" value="51"/><column index="31" value="51"/><column index="32" value="51"/><column index="33" value="51"/><column index="34" value="51"/><column index="35" value="51"/><column index="36" value="51"/><column index="37" value="51"/><column index="38" value="51"/><column index="39" value="51"/><column index="40" value="51"/><column index="41" value="51"/><column index="42" value="51"/><column index="43" value="51"/><column index="44" value="51"/><column index="45" value="51"/><column index="46" value="51"/><column index="47" value="51"/><column index="48" value="51"/><column index="49" value="51"/><column index="50" value="51"/><column index="51" value="51"/><column index="52" value="51"/><column index="53" value="51"/><column index="54" value="51"/><column index="55" value="51"/><column index="56" value="51"/><column index="57" value="51"/><column index="58" value="51"/><column index="59" value="51"/><column index="60" value="51"/><column index="61" value="51"/><column index="62" value="51"/><column index="63" value="51"/><column index="64" value="51"/><column index="65" value="51"/><column index="66" value="51"/><column index="67" value="51"/><column index="68" value="51"/><column index="69" value="51"/><column index="70" value="51"/><column index="71" value="51"/><column index="72" value="51"/><column index="73" value="51"/><column index="74" value="51"/><column index="75" value="51"/><column index="76" value="51"/><column index="77" value="51"/><column index="78" value="51"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="rassen" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="127"/><column index="2" value="138"/><column index="3" value="300"/><column index="4" value="162"/><column index="5" value="300"/><column index="6" value="161"/><column index="7" value="300"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="stats" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="51"/><column index="2" value="59"/><column index="3" value="47"/><column index="4" value="56"/><column index="5" value="65"/><column index="6" value="81"/><column index="7" value="41"/><column index="8" value="63"/><column index="9" value="40"/><column index="10" value="87"/><column index="11" value="107"/><column index="12" value="55"/><column index="13" value="40"/><column index="14" value="40"/><column index="15" value="40"/><column index="16" value="40"/><column index="17" value="40"/><column index="18" value="40"/><column index="19" value="40"/><column index="20" value="40"/><column index="21" value="40"/><column index="22" value="40"/><column index="23" value="40"/><column index="24" value="40"/><column index="25" value="40"/><column index="26" value="40"/><column index="27" value="40"/><column index="28" value="40"/><column index="29" value="40"/><column index="30" value="40"/><column index="31" value="40"/><column index="32" value="40"/><column index="33" value="40"/><column index="34" value="40"/><column index="35" value="40"/><column index="36" value="40"/><column index="37" value="40"/><column index="38" value="40"/><column index="39" value="40"/><column index="40" value="40"/><column index="41" value="40"/><column index="42" value="40"/><column index="43" value="40"/><column index="44" value="40"/><column index="45" value="45"/><column index="46" value="40"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="vorteile" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_"><sort/><column_widths><column index="1" value="157"/><column index="2" value="300"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="char trigger">-- Trigger zum Aktualisieren der waffen, attBonus und talentbonus bei INSERT
CREATE TRIGGER update_bonuses
AFTER INSERT ON character
FOR EACH ROW
BEGIN
    UPDATE character
    SET waffen = (SELECT weapons FROM classes WHERE className = NEW.klasse),
        attBonus = (SELECT attBonus FROM classes WHERE className = NEW.klasse),
        talentBonus = (SELECT talentBonus FROM classes WHERE className = NEW.klasse),
		lvl3 = (SELECT lvl3 FROM classes WHERE className = NEW.klasse),
		lvl8 = (SELECT lvl8 FROM classes WHERE className = NEW.klasse),
		lvl13 = (SELECT lvl13 FROM classes WHERE className = NEW.klasse)
    WHERE rowid = NEW.rowid;
END;

-- Trigger zum Aktualisieren der waffen, attBonus und talentbonus bei UPDATE
CREATE TRIGGER update_bonuses_on_update
AFTER UPDATE OF klasse ON character
FOR EACH ROW
BEGIN
    UPDATE character
    SET waffen = (SELECT weapons FROM classes WHERE className = NEW.klasse),
        attBonus = (SELECT attBonus FROM classes WHERE className = NEW.klasse),
        talentBonus = (SELECT talentBonus FROM classes WHERE className = NEW.klasse),
		lvl3 = (SELECT lvl3 FROM classes WHERE className = NEW.klasse),
		lvl8 = (SELECT lvl8 FROM classes WHERE className = NEW.klasse),
		lvl13 = (SELECT lvl13 FROM classes WHERE className = NEW.klasse)
    WHERE rowid = NEW.rowid;
END;
</sql><sql name="class trigger">-- Trigger zum Aktualisieren der waffen, attBonus und talentbonus bei Ã„nderungen in classes
CREATE TRIGGER update_character_on_classes_update
AFTER UPDATE ON classes
FOR EACH ROW
BEGIN
    UPDATE character
    SET waffen = NEW.weapons,
        attBonus = NEW.attBonus,
        talentBonus = NEW.talentBonus,
        lvl3 = NEW.lvl3,
        lvl8 = NEW.lvl8,
        lvl13 = NEW.lvl13
    WHERE klasse = NEW.className;
END;
</sql><current_tab id="0"/></tab_sql></sqlb_project>
